CREATE TABLE SALES_ORDER(
  ORD_NUM     INT,       
  ORD_DATE    DATETIME,  
  ORD_TC      CHAR(3),
  PRIMARY KEY(ORD_NUM)
); 

CREATE TABLE BILL_OF_LADING(
  LAD_NUM     INT,
  LAD_DATE    DATETIME,
  PRIMARY KEY(LAD_NUM)
);

CREATE TABLE REMITTANCE_SINGLE(
  REM_NUM      INT,
  REM_DATE     DATETIME,
  REM_AMOUNT   NUMERIC(10,2),
  PRIMARY KEY(REM_NUM)
);

CREATE TABLE CUSTOMER(
  CUS_ID      VARCHAR(10),
  CUS_NAME    NVARCHAR(10),
  CUS_BA      NVARCHAR(50),
  CUS_SA      NVARCHAR(50),
  CUS_CR      VARCHAR(5),
  CUS_PHONE   VARCHAR(10),
  CUS_FAX     VARCHAR(15),
  CUS_MAIL    VARCHAR(30),
  CUS_IC      NVARCHAR(10),
  PRIMARY KEY(CUS_ID)
);

CREATE TABLE EMPLOYEE(
  EMP_NUM         INT,
  EMP_NAME        NVARCHAR(10),
  EMP_HIRE_DATE   DATETIME,
  EMP_PHONE       VARCHAR(10),
  EMP_ID          VARCHAR(10),
  EMP_MAIL        VARCHAR(30),
  EMP_GENDER      NCHAR(1),
  EMP_BIRTHDAY    DATETIME,
  EMP_ADDRESS     NVARCHAR(50),
  PRIMARY KEY(EMP_NUM)
);


CREATE Table DEPARTMENT(
  DEPT_NUM    INT,
  DEPT_NAME   NVARCHAR(15),
  PRIMARY KEY(DEPT_NUM)
);
CREATE TABLE SALES_ORDER(
  ORD_NUM     INT,       
  ORD_DATE    DATETIME,  
  ORD_TC      CHAR(3),
  PRIMARY KEY(ORD_NUM)
);

/*  */

CREATE TABLE BILL_OF_LADING(
  LAD_NUM     INT,
  LAD_DATE    DATETIME,
  PRIMARY KEY(LAD_NUM)
);

/*  */

CREATE TABLE REMITTANCE_SINGLE(
  REM_NUM      INT,
  REM_DATE     DATETIME,
  REM_AMOUNT   NUMERIC(10,2),
  PRIMARY KEY(REM_NUM)
);

/*  */

CREATE TABLE CUSTOMER(
  CUS_ID      VARCHAR(10),
  CUS_NAME    NVARCHAR(10),
  CUS_BA      NVARCHAR(50),
  CUS_SA      NVARCHAR(50),
  CUS_CR      VARCHAR(5),
  CUS_PHONE   VARCHAR(10),
  CUS_FAX     VARCHAR(15),
  CUS_MAIL    VARCHAR(30),
  CUS_IC      NVARCHAR(10),
  PRIMARY KEY(CUS_ID)
);

/*  */

CREATE TABLE EMPLOYEE(
  EMP_NUM         INT,
  EMP_NAME        NVARCHAR(10),
  EMP_HIRE_DATE   DATETIME,
  EMP_PHONE       VARCHAR(10),
  EMP_ID          VARCHAR(10),
  EMP_MAIL        VARCHAR(30),
  EMP_GENDER      NCHAR(1),
  EMP_BIRTHDAY    DATETIME,
  EMP_ADDRESS     NVARCHAR(50),
  PRIMARY KEY(EMP_NUM)
);

/*  */

CREATE Table DEPARTMENT(
  DEPT_NUM    INT,
  DEPT_NAME   NVARCHAR(15),
  PRIMARY KEY(DEPT_NUM)
);

/* ADD SALES_ORDER FOREIGN KEY*/
ALTER TABLE SALES_ORDER ADD CUS_ID VARCHAR(10);
ALTER TABLE SALES_ORDER ADD EMP_NUM INT;
ALTER TABLE SALES_ORDER ADD FOREIGN KEY(CUS_ID) REFERENCES CUSTOMER ON UPDATE CASCADE;
ALTER TABLE SALES_ORDER ADD FOREIGN KEY(EMP_NUM) REFERENCES EMPLOYEE ON UPDATE CASCADE;


/* ADD BILL_OF_LADING FOREIGN KEY*/
ALTER TABLE BILL_OF_LADING ADD SHIP_NUM INT;  /* 雅青的part */
ALTER TABLE BILL_OF_LADING ADD ORD_NUM INT;
ALTER TABLE BILL_OF_LADING ADD EMP_NUM INT;
/* ALTER TABLE BILL_OF_LADING ADD FOREIGN KEY(SHIP_NUM) REFERENCES SHIPPING_COMPANY ON UPDATE CASCADE; */
ALTER TABLE BILL_OF_LADING ADD FOREIGN KEY(ORD_NUM) REFERENCES SALES_ORDER ON UPDATE CASCADE;
ALTER TABLE BILL_OF_LADING ADD FOREIGN KEY(EMP_NUM) REFERENCES EMPLOYEE ON DELETE CASCADE;


/* ADD REMITTANCE_SINGLE FOREIGN KEY*/
ALTER TABLE REMITTANCE_SINGLE ADD CUS_ID VARCHAR(10);
ALTER TABLE REMITTANCE_SINGLE ADD INV_NUM INT;   /* 雅青的part */
ALTER TABLE REMITTANCE_SINGLE ADD ACCT_NUM INT;  /* 雅青的part */
ALTER TABLE REMITTANCE_SINGLE ADD FOREIGN KEY(CUS_ID) REFERENCES CUSTOMER ON UPDATE CASCADE;
/* ALTER TABLE REMITTANCE_SINGLE ADD FOREIGN KEY(INV_NUM) REFERENCES INVOICE ON UPDATE CASCADE; */
/* ALTER TABLE REMITTANCE_SINGLE ADD FOREIGN KEY(ACCT_NUM) REFERENCES ACCOUNT ON UPDATE CASCADE; */


/* ADD EMPLOYEE FOREIGN KEY*/
ALTER TABLE EMPLOYEE ADD DEPT_NUM INT;
ALTER TABLE EMPLOYEE ADD FOREIGN KEY(DEPT_NUM) REFERENCES DEPARTMENT ON UPDATE CASCADE;
